\documentclass{article}
\usepackage{inconsolata}
\usepackage[a4paper, margin=2cm]{geometry}
\usepackage{tcolorbox}
\usepackage{amsmath} % For math symbols
\usepackage{hyperref} % For clickable links
\usepackage{xcolor} % For custom colors
\usepackage{listings}
\usepackage{verbatim}
\usepackage[estonian]{babel}
\usepackage{parskip}

% Custom colors for boxes
%\definecolor{boxbg}{rgb}{0.95, 0.95, 0.95}
%\definecolor{boxborder}{rgb}{0.2, 0.4, 0.6}

% Box styling for command descriptions

%\lstset{
%	basicstyle=\footnotesize\ttfamily,
%	breaklines=true,
%	keywordstyle=\color{black}
%}

%\tcbset{
%	colframe=white,
%	boxrule=0mm,
%	rounded corners,
%	arc=2mm
%	frame empty,
%	boxsep=-0mm
%}




\lstset{
	basicstyle=\small\ttfamily,
	breaklines=true,
	keywordstyle=\color{black},
	basewidth=1.7mm
}


\tcbset{
	colframe=white,
	boxrule=0mm,
	rounded corners,
	arc=2mm
	frame empty,
	boxsep=-0mm,
	fontupper=\small\ttfamily,
}


\newtcbox{\code}{
	nobeforeafter,
	tcbox raise base,
	boxrule=0.0pt,
	top=0.2mm,
	bottom=0.2mm,
	right=0.2mm,
	left=0.2mm,
	arc=0.5mm,
	boxsep=0.5mm,
	%before upper={\vphantom{dlg}},
	colframe=gray!10!white,
	fontupper=\small\ttfamily,
	colback=gray!10!white
}


\ifdefined\pdfstringdefDisableCommands
\pdfstringdefDisableCommands{\def\code#1{'#1'}}
\fi





\begin{document}
\section*{Sissejuhatus}
Tegemist on C-keele projekti LihtsamLatex dokumentatsiooniga. Et tegu on meie enda välja mõeldud keele kompilaatoriga, siis peaks dokumentatsioon olema põhjalik.


Programmi töötamiseks peab kasutajal installitud olema mõni \TeX\ keele kompilaator, näiteks MiK\TeX\ või muu \TeX i kompilaator, mis kasutaks käsku \code{pdflatex}. Seda käsku kasutab programm, et peale lähtekoodi tõlgendamist ja \LaTeX i koodi genereerimist see ka kompileerida pdf-failiks. Samuti on tarvilik \code{config.txt} faili olemasolu programmi enda kaustas ning mingi template faili olemasolu \code{templates} kaustas.

Programmi kasutamiseks peab kasutaja looma ühe tekstifaili, mida edaspidi dokumnetatsioonis nimetatakse \emph{lähtekoodifailiks}. Sinna hakkab kasutaja kirjutama koodi, mida meie programm tõlgib. Seda kasutaja kirjutatud koodi nimetatakse edaspidi \emph{lähtekoodiks}.

\section{Template failid}
Esmalt tegeleme template failidega. Template folder on mõeldud kõikide erinevate template failide hoidmiseks. Hetkel on seal ainult \code{defaultTemplate.txt}, mille sisu võiks olla järgmine

\begin{tcolorbox}
	\begin{verbatim}
\documentclass{article}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage[estonian]{babel}

\usepackage{parskip}

\begin{document}
{{content}}
\end{document}
\end{verbatim}
\end{tcolorbox}
Siia saab oma valikul juurde lisada nii palju pakete, kui neid vaja võiks minna. Samuti võib kausta juurde lisada veel template faile, kusjuures nende nimed võivad olla suvalised.
Igas template failis peab aga olema märksõna
\begin{center}
	\tcbox[top=3mm, bottom=3mm]{\{\{content\}\}}
\end{center}
mis enamasti käib koostatava dokumendi alustava ja lõpetava definitsiooni vahele. See koht, kus template failis on kirjas \code{\{\{content\}\}}, asendatakse kasutaja kirjutatud lähtekoodifaili tõlkega. Tähendab, lõpuks kompileeritava \TeX-faili päis ja jalus on pärit template failist, aga sisuks on kood, mille genereerib programm tõlkides kasutaja kirjutatud lähtekoodi. Seda, kuidas kasutaja kirjutatud lähtekoodifaili tõlgitakse, kontrollib \code{config.txt} fail.

\section{Config.txt}
Nüüd saame liikuda järgmise faili juurde. Peamised käskude ja keskkondade definitsioonid, sealjuures ka muud lipud, lähevad kõik \code{config.txt} faili. Algselt võiks selle sisuks olla
\begin{tcolorbox}
\begin{verbatim}
template = KAAREL

TEXTMODE KÄSUD
//(arg1)// -> \emph{arg1}
pealk (arg1) -> \secton{arg1}

MATHMODE KÄSUD
sum(al)(ül) -> \sum_{al}^{ül}
to -> \to
inf -> \infty
lim(arg1) -> \lim_{arg1}

KESKKONNAD
enum [multiline, end:{--}] -> \begin{enumerate} #content \end{enumerate} | (item(arg1) -> \item arg1)
\end{verbatim}
\end{tcolorbox}

Välimuseltki on selge, et selle faili sisu on neljas eri osas. Iga osa kirjeldatakse allpool eraldi.
\subsection{Template faili nimi}
Reaga \code{template = KAAREL} määratakse template faili nimi, mida kompileerimisel kasutatakse. Selle faili nimi peab olema kirjutatud ilma \code{.txt} laienduseta. Samanimeline fail peab leiduma kaustas nimega \code{templates}. Näite puhul peab leiduma selles kaustas fail \code{KAAREL.txt}.

\subsection{Mathmode käsud}Peamine asi, mis meie programmiga teeb \LaTeX i kirjutamist kiiremaks on käskude defineerimine. Nendega on võimalik suhteliselt lihtsal moel kirjutatud tekst asendada keerulise \LaTeX i koodiga. Kasutaja saab defineerida kaks komplekti käske. Esimene neist on mõeldud kasutamiseks olles mathmode sees. Teine on kasutamiseks textmode sees. Esmalt kirjeldame mathmode käske. Käsu definitsiooni saame jaotada kaheks pooleks
\begin{center}
	\tcbox[top=3mm, bottom=3mm]{Tekst, mida lähtekoodis otsitakse. -> Tekst, mis sellega asendatakse.}
\end{center}
Niimoodi saame defineerida lihtsad tekstasenduse käsud, näiteks

\begin{tcolorbox}
\begin{verbatim}
alfa -> \alpha
kord -> \cdot
RR -> \mathbb{R}
\end{verbatim}
\end{tcolorbox}
Vahel sellest aga ei piisa. Peame suutma ka defineerida integraale, summasid ning muid abikäske, mis võtavad endale teatud arv argumente. Selleks saab defineeritavas käsus anda sisse $n$ argumenti, kujul
\begin{center}
	\tcbox[top=3mm, bottom=3mm]{käsuNimi(arg1)[arg2]$\ldots$ -> $\mathcal{F}$(arg1, arg2,$\ldots$)}
\end{center}
kus \vspace{-2mm}
\begin{center}
	\ttfamily $\mathcal{F}$(arg1, arg2,$\ldots$)
\end{center}
on vastava käsu LaTeXi definitsioon, mis sisaldab endas vajalikke argumente (kusjuures need peavad olema sama nimega, mis käsu definitsiooni vasakul pool).
Samuti tuleb eristada käsu defineerimisel argumentide tüüpe. Nendeks on
\begin{itemize}
\item \tcbox[before=, after=, tcbox raise base]{(argumendiNimi)} -- Ümarad sulud tähendavad pikemat argumenti. See tähendab, et lähtekoodis argumendi lõppu tähistab ainult tühik või rea lõpp. Sellele vastandub lühem argumenditüüp.
\item \tcbox[before=, after=, tcbox raise base]{[argumendiNimi]} -- Kandilised sulud tähendavad lühemat argumenti. See tähendab, et lähtekoodis tähistavad argumendi lõppu peale tühiku ka tähemärgid \code+,\code-,\code*, \code= ja \code,. Tihtipeale ei ole vahet, kas definitsioonis on argumenditüüp märgitud pikaks või lühikeseks. Vahe tuleb aga sisse siis kui tahetakse näiteks kirjutada polünoome.
Definitsiooni \code{\^{}(arg1) -> \^{}\{arg1\}} puhul tõlgitakse lähtekoodi tekst \code{a\^{}n+b\^{}m} koodiks
\begin{center}
	\tcbox[top=3mm, bottom=3mm]{a\^{}\{n+b\^{}\{m\}\}}
\end{center}
Polünoomi kirjutamise soovi jaoks see on vale. Õige tõlge oleks \code{a\^{}\{n\}+b\^{}\{m\}}, mis saavutatakse, kui definitsioonis oleks kasutatud kandilisi sulgusid järgmiselt \code{\^{}[arg1] -> \^{}\{arg1\}}.

\end{itemize}
Niisiis toome mõned näited
\begin{center}
\texttt{sum(al)(ül) -> \textbackslash sum\_\{al\}\^{ }\{ül\}}\\
\texttt{sin(uuga) -> \textbackslash sin\{uuga\}}\\
\texttt{\^{ }[mingiAsi] -> \^{ }\{mingiAsi\}}
\end{center}
Ainus käsk, mida defineerima ei pea, on jagamine, mida automaatselt tõlgitakse kui
\begin{center}
\texttt{a/b -> \textbackslash frac\{a\}\{b\}}
\end{center}

\subsection{Texmode käsud}
Mathmode sees kasutamiseks mõeldud mathmode käskudele lisaks saab kasutaja defineerida texmode käskude komplekti, mille käske otsitakse tavalise teksti seest. Näiteks on textmode käske ideaalne kasutada pealkirjade kiireks vormistamiseks, kui on vaja korduvalt panna mingit teksti \LaTeX i \code{center} keskkonna sisse.

Kuna textmode käsud on mõneti nüansikamad, kui mathmodekäsud, siis on parim neid selgitada näitega. Allpool on esitatud üks keskmise käsu definitsioon. Numbritega on tähistatud selle definitsiooni osad ja seejärel selgitatakse, millega on tegu.
\begin{tcolorbox}
\begin{verbatim}
      1       2   3    2 4 5  6  5  8 _________9________________   10   _9_  11 ______9_________
	edevpealkiri (pealkiri)   (alune) -> \begin{center}\n\section*{pealkiri}\nalune\n\end{center}\n
                                  7                 12                   12     12            12
\end{verbatim}
\end{tcolorbox}
\begin{enumerate}
	
	\item Tegu on käsku alustava tekstiga. Kui see tekst lähtekoodist leitakse, ss sellele järgnevat teksti tõlgitakse erilisel moel nagu käsu definitsioonis kirjeldatud on. Panna tähele, et näidatud juhul on käsku alustavaks tekstiks \code{edevpealkiri\;\;\empty} – sellel on viimane täht tühik.
	\item Tegu on esimest argumenti avava ja sulgeva suluga. Argumentide eraldatakse muust käsudefinitsiooni tekstist neid ümb\-rit\-se\-va\-te ümarsulgude järgi. Seega ei või käsu nimes ümarsulgi kasutada, sest asja võidaks tõlgendada valesti.
	\item See on esimese argumendi nimi. See tähistab teksti, mida kasutaja kirjutab lähtekoodis käsku alustava teksti järele kuni selle tekstini, mis on argumenti sulgeva sulu järel (4). Argumente saab käsul olla praktiliselt lõputu kogus.
	\item Tegu on esimest argumenti lõpetava tekstiga. Lähtekoodis käsku alustava teksti ja esimet argumenti lõpetava teksti vahele jääv tekst loetakse esimeseks argumendiks ja see asendatakse käsu definitsiooni paremas pooles kohale, kus on esimese argumendi nimi (10). Selles näites on mõeldud, et esimene argument läheb latexi sectioni loogeliste sulgude vahele.
	\item Need sulud eraldavad muust definitsioonist teise argumendi nime (6). Järelikult kasutaja tahab peale esimese argumendi lõppu ka teise argumendi anda.
	\item See on teise argumendi nimi. See tähistab teksti, mis jääb lähtekoodis esimest argumenti lõpetava teksti (4) ja teist argumenti lõpetava teksti (7) vahele.
	\item See on teist argumenti lõpetav tekst. Näites on teist arvumenti lõpetav tekst tühi sõne. Kui kumbagi argumenti lõpetav tekst on tühi sõne, siis loetakse vastava argumendi lõpuks realõpp e uuereamärk.
	\item Tegu on tähistusega, mis eraldab definitsiooni vasakut poolt paremast poolest. Selleks on tekst \code{\; -> \;} – selles on tühikud kummalgi pool. Oluline on meeles pidada, et tühikud on selle tähistuse osa. Vasakul on kirjeldatud, kuidas käsk algab, kuidas argumendid eraldatud on ja kui palju neid on. Parem pool aga kirjeldab seda, milliseks tekstiks vasaku poole järgi vormistatud tekst lähtekoodis tõlgendada.
	\item Kõik see tekst on see, mis lähtekoodis kirjutatud käsualguse teksti asemel pannakse \LaTeX i faili. Kohtades, kus käsu paremal poolel on kirjas argumentide nimed, saadetakse \LaTeX i faili tekstid, mis loeti argumentideks.
	\item Esimene argument pannakse kohale (10) ja teine kohale (11).\setcounter{enumi}{11}
	\item Textmodekäsu paremale poolele saab kirjutada teksti \code{\textbackslash n}, mis on eriline tekstilõik, mille asemel pannakse \LaTeX i faili reavahetusmärk, mitte tekst \code{\textbackslash n}. Kui tahta tõlkesse panna teksti \code{\textbackslash n}, siis tuleb kirjutada \code{\textbackslash\textbackslash n}
\end{enumerate}
Selle käsu kasutamine lähtekoodifailis näeks muu teksti seas välja järgmine.
\begin{tcolorbox}
\begin{verbatim}
Tere mina olen Kaarel ja see on minu fancy ass pealkiri.
edevpealkiri MIMMA 6. kodune töö   Kaarel Parve, 3. variant, 15.12.2024
Uuga buuga veel matemaatilist juttu mitme muutuja funktsionaalreak koondumine blaa.
\end{verbatim}
\end{tcolorbox}
Ja see tõlgitakse järgmiseks \LaTeX i koodiks.
\begin{tcolorbox}
\begin{verbatim}
Tere mina olen Kaarel ja see on minu fancy ass pealkiri.
\begin{center}
\section*{MIMMA 6. kodune töö}
Kaarel Parve, 3. variant, 15.12.2024
\end{center}
Uuga buuga veel matemaatilist juttu mitme muutuja funktsionaalreak koondumine blaa.
\end{verbatim}
\end{tcolorbox}




\end{document}



















